export const slug = 'nasa-cmr-stac';
export const baseUrl = 'https://cmr.earthdata.nasa.gov/stac';
export function buildRequest({ catalog, bbox, datetime, collections, }) {
    const body = { bbox };
    if (datetime)
        body.datetime = datetime;
    if (collections)
        body.collections = collections;
    return {
        url: `${baseUrl}/${catalog}/search`,
        body,
    };
}
export async function fetchJson(url, body) {
    const headers = {
        'Content-Type': 'application/json',
    };
    const token = process.env.EARTHDATA_TOKEN;
    if (token) {
        headers.Authorization = `Bearer ${token}`;
    }
    const res = await fetch(url, {
        method: 'POST',
        headers,
        body: JSON.stringify(body),
    });
    return res.json();
}
